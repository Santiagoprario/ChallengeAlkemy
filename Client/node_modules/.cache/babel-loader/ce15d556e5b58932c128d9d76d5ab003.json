{"ast":null,"code":"import { LOG_OUT, LOG_IN, GET_MOVES } from '../Actions/index';\nconst INITIAL_STATE = {\n  isAuth: false,\n  name: null,\n  id: null,\n  moves: []\n};\n\nconst Reducer = (state = INITIAL_STATE, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    case LOG_IN:\n      if (payload.login) {\n        //Se almacena en el state las respuesta obtenida del server, en caso de afirmativa, el payload queda asi:\n        // id: 1\n        // login: true\n        // username: \"pedro\"\n        window.localStorage.setItem(\"isAuth\", payload.login);\n        window.localStorage.setItem(\"name\", payload.username);\n        window.localStorage.setItem(\"idUser\", payload.id);\n        return { ...state,\n          isAuth: payload.login,\n          name: payload.name,\n          idUser: payload.id,\n          moves: payload.moves,\n          token: payload.token\n        };\n      } else {\n        const newState = { ...state,\n          isAuth: false,\n          message: payload.message\n        };\n        return newState;\n      }\n\n      ;\n\n    case LOG_OUT:\n      window.localStorage.removeItem(\"token\");\n      window.localStorage.removeItem(\"isAuth\");\n      window.localStorage.removeItem(\"name\");\n      window.localStorage.removeItem(\"idUser\");\n      return { ...state,\n        isAuth: false,\n        user: null,\n        id: null,\n        isAdmin: false,\n        status: \"\"\n      };\n\n    case GET_MOVES:\n      return { ...state,\n        moves: payload.moves\n      };\n\n    default:\n      return state;\n  }\n\n  ;\n};\n\n_c = Reducer;\nexport default Reducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Reducer\");","map":{"version":3,"sources":["/Users/santiagoprario/Desktop/Alkemy/Client/challenge-alkemy/src/Reducer/Reducer/index.js"],"names":["LOG_OUT","LOG_IN","GET_MOVES","INITIAL_STATE","isAuth","name","id","moves","Reducer","state","type","payload","login","window","localStorage","setItem","username","idUser","token","newState","message","removeItem","user","isAdmin","status"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,MAAlB,EAA2BC,SAA3B,QAA2C,kBAA3C;AAEA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,MAAM,EAAE,KADY;AAEpBC,EAAAA,IAAI,EAAE,IAFc;AAGpBC,EAAAA,EAAE,EAAE,IAHgB;AAIpBC,EAAAA,KAAK,EAAE;AAJa,CAAtB;;AAOA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGN,aAAT,EAAwB;AAAEO,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAxB,KAA8C;AAC5D,UAAQD,IAAR;AACE,SAAKT,MAAL;AACE,UAAIU,OAAO,CAACC,KAAZ,EAAmB;AACjB;AACA;AACA;AACA;AACAC,QAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,EAAsCJ,OAAO,CAACC,KAA9C;AACAC,QAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,EAAoCJ,OAAO,CAACK,QAA5C;AACAH,QAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,EAAsCJ,OAAO,CAACL,EAA9C;AACA,eAAO,EACL,GAAGG,KADE;AAELL,UAAAA,MAAM,EAAEO,OAAO,CAACC,KAFX;AAGLP,UAAAA,IAAI,EAAEM,OAAO,CAACN,IAHT;AAILY,UAAAA,MAAM,EAAEN,OAAO,CAACL,EAJX;AAKLC,UAAAA,KAAK,EAAEI,OAAO,CAACJ,KALV;AAMLW,UAAAA,KAAK,EAAEP,OAAO,CAACO;AANV,SAAP;AAQD,OAhBD,MAgBO;AACL,cAAMC,QAAQ,GAAG,EACf,GAAGV,KADY;AAEfL,UAAAA,MAAM,EAAE,KAFO;AAGfgB,UAAAA,OAAO,EAAET,OAAO,CAACS;AAHF,SAAjB;AAKA,eAAOD,QAAP;AACD;;AAAA;;AACH,SAAKnB,OAAL;AACEa,MAAAA,MAAM,CAACC,YAAP,CAAoBO,UAApB,CAA+B,OAA/B;AACAR,MAAAA,MAAM,CAACC,YAAP,CAAoBO,UAApB,CAA+B,QAA/B;AACAR,MAAAA,MAAM,CAACC,YAAP,CAAoBO,UAApB,CAA+B,MAA/B;AACAR,MAAAA,MAAM,CAACC,YAAP,CAAoBO,UAApB,CAA+B,QAA/B;AACA,aAAO,EACL,GAAGZ,KADE;AAELL,QAAAA,MAAM,EAAE,KAFH;AAGLkB,QAAAA,IAAI,EAAE,IAHD;AAILhB,QAAAA,EAAE,EAAE,IAJC;AAKLiB,QAAAA,OAAO,EAAE,KALJ;AAMLC,QAAAA,MAAM,EAAE;AANH,OAAP;;AAQA,SAAKtB,SAAL;AACI,aAAO,EACH,GAAGO,KADA;AAEHF,QAAAA,KAAK,EAAEI,OAAO,CAACJ;AAFZ,OAAP;;AAIN;AACE,aAAOE,KAAP;AA7CJ;;AA8CC;AACF,CAhDD;;KAAMD,O;AAkDN,eAAeA,OAAf","sourcesContent":["import { LOG_OUT, LOG_IN , GET_MOVES} from '../Actions/index';\n\nconst INITIAL_STATE = {\n  isAuth: false,\n  name: null,\n  id: null,\n  moves: []\n};\n\nconst Reducer = (state = INITIAL_STATE, { type, payload }) => {\n  switch (type) {\n    case LOG_IN:\n      if (payload.login) {\n        //Se almacena en el state las respuesta obtenida del server, en caso de afirmativa, el payload queda asi:\n        // id: 1\n        // login: true\n        // username: \"pedro\"\n        window.localStorage.setItem(\"isAuth\", payload.login);\n        window.localStorage.setItem(\"name\", payload.username);\n        window.localStorage.setItem(\"idUser\", payload.id);\n        return {\n          ...state,\n          isAuth: payload.login,\n          name: payload.name,\n          idUser: payload.id,\n          moves: payload.moves,\n          token: payload.token,\n        };\n      } else {\n        const newState = {\n          ...state,\n          isAuth: false,\n          message: payload.message,\n        };\n        return newState\n      };\n    case LOG_OUT:\n      window.localStorage.removeItem(\"token\");\n      window.localStorage.removeItem(\"isAuth\");\n      window.localStorage.removeItem(\"name\");\n      window.localStorage.removeItem(\"idUser\");\n      return {\n        ...state,\n        isAuth: false,\n        user: null,\n        id: null,\n        isAdmin: false,\n        status: \"\"\n      };\n      case GET_MOVES:\n          return {\n              ...state,\n              moves: payload.moves,\n          }\n    default:\n      return state;\n  };\n};\n\nexport default Reducer;\n"]},"metadata":{},"sourceType":"module"}